<!DOCTYPE html>
<html>
<head>
    <title>FreeIntvDS Test PNG Generator</title>
</head>
<body>
    <h2>FreeIntvDS Overlay Test PNG Generator</h2>
    <p>This will create a simple test pattern to verify your PNG overlay system works.</p>
    
    <canvas id="testCanvas" width="256" height="224" style="border: 1px solid black;"></canvas>
    <br><br>
    <button onclick="generateTestImage()">Generate Test PNG</button>
    <button onclick="downloadImage()">Download Test PNG</button>
    
    <script>
        function generateTestImage() {
            const canvas = document.getElementById('testCanvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas with dark blue background
            ctx.fillStyle = '#000064';
            ctx.fillRect(0, 0, 256, 224);
            
            // Red corner (top-left)
            ctx.fillStyle = '#FF0000';
            ctx.fillRect(0, 0, 64, 56);
            
            // Green corner (top-right)
            ctx.fillStyle = '#00FF00';
            ctx.fillRect(192, 0, 64, 56);
            
            // Blue corner (bottom-left)
            ctx.fillStyle = '#0000FF';
            ctx.fillRect(0, 168, 64, 56);
            
            // Yellow corner (bottom-right)
            ctx.fillStyle = '#FFFF00';
            ctx.fillRect(192, 168, 64, 56);
            
            // White center rectangle
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(64, 80, 128, 64);
            
            // Black text in center
            ctx.fillStyle = '#000000';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('OVERLAY', 128, 105);
            ctx.fillText('TEST', 128, 125);
            
            // White border
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 2;
            ctx.strokeRect(1, 1, 254, 222);
        }
        
        function downloadImage() {
            const canvas = document.getElementById('testCanvas');
            const link = document.createElement('a');
            link.download = 'test_overlay.png';
            link.href = canvas.toDataURL();
            link.click();
        }
        
        // Generate the test image when page loads
        window.onload = generateTestImage;
    </script>
    
    <h3>Instructions:</h3>
    <ol>
        <li>Click "Generate Test PNG" to create the pattern</li>
        <li>Click "Download Test PNG" to save it</li>
        <li>Copy the downloaded file to your RetroArch overlays folder</li>
        <li>Rename it to match your ROM (e.g., "Astrosmash (USA, Europe).png")</li>
        <li>Load the game - you should see colored squares instead of static</li>
    </ol>
    
    <p><strong>Expected result:</strong> Red and green squares at top, blue and yellow at bottom, white center with "OVERLAY TEST" text, all on dark blue background with white border.</p>
</body>
</html>